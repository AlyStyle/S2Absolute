

//-------Aliases-------//

// Static Values

// Tables

reserve function WarpGem_DebugDraw
reserve function WarpGem_DebugSpawn

// Static Values

// Tables

function WarpGem_DebugDraw
	DrawSprite(0)
end function


function WarpGem_DebugSpawn
	CreateTempObject(TypeName[Warp Gem], 0, object.xpos, object.ypos)
end function

event ObjectMain
	switch object.propertyValue
	case 0 //sender
		switch object.state
			case 0
				foreach (GROUP_PLAYERS, currentPlayer, ACTIVE_ENTITIES)
					BoxCollisionTest(C_BOX, object.entityPos, -24, -16, 24, 16, currentPlayer, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO)
					if currentPlayer == 0
						if checkResult == 1
							object.state++
						end if
					end if
				next
				break
			case 1
				foreach (GROUP_PLAYERS, currentPlayer, ACTIVE_ENTITIES)
					BoxCollisionTest(C_BOX, object.entityPos, -24, -16, 24, 16, currentPlayer, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO)
				next
				break
		end switch
		break
	case 1 //receiver
		foreach (GROUP_PLAYERS, currentPlayer, ACTIVE_ENTITIES)
			BoxCollisionTest(C_BOX, object.entityPos, -24, -16, 24, 16, currentPlayer, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO, HITBOX_AUTO)
		next
		break
	end switch
end event


event ObjectDraw
	DrawSpriteXY(0, object.xpos, object.ypos)
end event


event ObjectStartup
	LoadSpriteSheet("HPZ/Objects4.gif")
	SpriteFrame(-32, -16, 64, 32, 34, 1)
	
	SetTableValue(TypeName[Warp Gem], DebugMode_ObjCount, DebugMode_TypesTable)
	SetTableValue(WarpGem_DebugDraw, DebugMode_ObjCount, DebugMode_DrawTable)
	SetTableValue(WarpGem_DebugSpawn, DebugMode_ObjCount, DebugMode_SpawnTable)
	DebugMode_ObjCount++
	
end event

event RSDKDraw
	DrawSprite(0)
end event

event RSDKLoad
	LoadSpriteSheet("Global/Display.gif")
	SpriteFrame(-16, -16, 32, 32, 1, 143)
end event
